!function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=7)}([function(e,r){e.exports=require("chai")},function(e,r){e.exports=require("mocha")},function(e,r,n){"use strict";n(1);var t=n(0),o=n(4);describe("Actor",function(){it("generates correct restV1 URLs",function(){(0,t.expect)(o.Actor.restv1URL(1)).to.be.a("string"),t.assert.equal("/v1/actors/1",o.Actor.restv1URL(1),"Actor restv1URL is correct")}),it("can add HATEAOS data to an instance",function(){var e=new o.Actor,r=o.Actor.addHATEAOSTo(e);(0,t.expect)(r).to.be.an.instanceof(o.Actor),(0,t.expect)(r).to.have.property("links")}),it("can add HATEAOS data to the current instance",function(){var e=new o.Actor,r=e.addHATEAOS();(0,t.expect)(r).to.be.an.instanceof(o.Actor),(0,t.expect)(r).to.have.property("links")}),it("instantiates a new Actor from an object or database row",function(){o.Actor.fromRow({id:5,name:"Test",links:[]})})})},function(e,r,n){"use strict";n(1);var t=n(0),o=n(5);describe("Director",function(){it("generates correct restV1 URLs",function(){(0,t.expect)(o.Director.restv1URL(1)).to.be.a("string"),t.assert.equal("/v1/directors/1",o.Director.restv1URL(1),"Director restv1URL is correct")}),it("can add HATEAOS data to an instance",function(){var e=new o.Director,r=o.Director.addHATEAOSTo(e);(0,t.expect)(r).to.be.an.instanceof(o.Director),(0,t.expect)(r).to.have.property("links")}),it("can add HATEAOS data to the current instance",function(){var e=new o.Director,r=e.addHATEAOS();(0,t.expect)(r).to.be.an.instanceof(o.Director),(0,t.expect)(r).to.have.property("links")}),it("instantiates a new Director from an object or database row",function(){var e=o.Director.fromRow({id:5,name:"Test",links:[]});(0,t.expect)(e).to.be.an.instanceof(o.Director),(0,t.expect)(e.id).to.be.a("number"),(0,t.expect)(e.id).to.equal(5),(0,t.expect)(e.name).to.be.a("string"),(0,t.expect)(e.name).to.equal("Test")})})},function(e,r,n){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();r.Actor=function(){function e(){t(this,e)}return o(e,[{key:"addHATEAOS",value:function(){return e.addHATEAOSTo(this)}}],[{key:"restv1URL",value:function(e){return"/v1/actors"+(void 0!==e?"/"+e:"")}},{key:"addHATEAOSTo",value:function(r){return r.links=[],r.links.push({rel:"self",href:e.restv1URL(r.id)}),r}},{key:"fromRow",value:function(r){var n=new e;return r.id&&(n.id=r.id),r.name&&(n.name=r.name),n}},{key:"forID",value:function(r,n){return new Promise(function(t,o){r.all("SELECT * FROM actors WHERE id = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?e.fromRow(n[0]).addHATEAOS():[])})})}},{key:"all",value:function(r){return new Promise(function(n,t){r.all("SELECT * FROM actors ORDER BY id",[],function(r,o,i){r?t({error:{message:"Error while performing Query."}}):n(o&&o.length?o.map(function(r){return e.fromRow(r).addHATEAOS()}):[])})})}},{key:"forName",value:function(r,n){return new Promise(function(t,o){r.all("SELECT * FROM actors WHERE name = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?e.fromRow(n[0]).addHATEAOS():[])})})}}]),e}()},function(e,r,n){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Director=void 0;var o=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),i=n(6);r.Director=function(){function e(){t(this,e)}return o(e,[{key:"addHATEAOS",value:function(){return e.addHATEAOSTo(this)}}],[{key:"forID",value:function(r,n){return new Promise(function(t,o){r.all("SELECT * FROM directors WHERE id = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?e.fromRow(n[0]).addHATEAOS():[])})})}},{key:"all",value:function(r){return new Promise(function(n,t){r.all("SELECT * FROM directors ORDER BY id",[],function(r,o,i){r?t({error:{message:"Error while performing Query."}}):n(o&&o.length?o.map(function(r){return e.fromRow(r).addHATEAOS()}):[])})})}},{key:"forName",value:function(r,n){return new Promise(function(t,o){r.all("SELECT * FROM directors WHERE name = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?e.fromRow(n[0]).addHATEAOS():[])})})}},{key:"forSerialID",value:function(r,n){return new Promise(function(t,o){r.all("SELECT directors.* FROM serials INNER JOIN serials_directors ON serials.id = serials_directors.serial_id INNER JOIN directors ON serials_directors.director_id = directors.id WHERE serials.id = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?n.map(function(r){return e.fromRow(r).addHATEAOS()},n):[])})})}},{key:"serials",value:function(e,r){return new Promise(function(n,t){e.all("SELECT serials.* FROM serials INNER JOIN serials_directors ON serials.id = serials_directors.serial_id INNER JOIN directors ON serials_directors.director_id = directors.id WHERE directors.id = ? ORDER BY serials.id",[r],function(e,r,o){e?t({error:{message:"Error while performing Query."}}):n(r&&r.length?r.map(function(e){return i.Serial.fromRow(e).addHATEAOS()},r):[])})})}},{key:"fromRow",value:function(r){var n=new e;return r.id&&(n.id=r.id),r.name&&(n.name=r.name),n}},{key:"restv1URL",value:function(e){return"/v1/directors"+(void 0!==e?"/"+e:"")}},{key:"addHATEAOSTo",value:function(r){return r.links=[],r.links.push({rel:"self",href:e.restv1URL(r.id)}),r}}]),e}()},function(e,r,n){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();r.Serial=function(){function e(){t(this,e)}return o(e,[{key:"addHATEAOS",value:function(r){return void 0===r&&(r=this),r.links=[],r.links.push({rel:"self",href:e.restv1URL(r.id)}),r}}],[{key:"forID",value:function(r,n){return new Promise(function(t,o){r.all("SELECT * FROM serials WHERE id = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?e.fromRow(n[0]).addHATEAOS():[])})})}},{key:"forTitle",value:function(r,n){return new Promise(function(t,o){r.all("SELECT * FROM serials WHERE title = ?",[n],function(r,n,i){r?o({error:{message:"Error while performing Query."}}):t(n&&n.length?e.fromRow(n[0]).addHATEAOS():[])})})}},{key:"all",value:function(r){return new Promise(function(n,t){r.all("SELECT * FROM serials ORDER BY id",[],function(r,o,i){r?t({error:{message:"Error while performing Query."}}):n(o&&o.length?o.map(function(r){return e.fromRow(r).addHATEAOS()},o):[])})})}},{key:"fromRow",value:function(r){var n=new e;return r.id&&(n.id=r.id),r.season_id&&(n.seasonID=r.season_id),r.story&&(n.story=r.story),r.serial&&(n.serial=r.serial),r.title&&(n.title=r.title),r.production_code&&(n.productionCode=r.production_code),n}},{key:"restv1URL",value:function(e){return"/v1/serials"+(void 0!==e?"/"+e:"")}}]),e}()},function(e,r,n){"use strict";n(2),n(3)}]);